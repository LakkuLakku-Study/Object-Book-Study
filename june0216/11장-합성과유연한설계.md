- â€œìƒì†â€ê³¼ â€œí•©ì„±â€ ê³µí†µì 
    - ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì½”ë“œ ì¬ì‚¬ìš© ê¸°ë²•
- ìƒì†ê³¼ í•©ì„±ì˜ ì°¨ì´ì 
    - ìƒì†
        - **ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤**ë¥¼ ì—°ê²°í•´ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ì¬ì‚¬ìš©
        - ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì€ ì»´íŒŒì¼ íƒ€ì„ì— í•´ê²°ëœë‹¤.
        - is-a ê´€ê³„
        - ì¬ì‚¬ìš© ë°©ë²•
            - ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ë‹¤ë¥¸ ë¶€ë¶„ë§Œ ì¶”ê°€ í˜¹ì€ ì¬ì •ì˜í•˜ì—¬ í™•ì¥
            - ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ êµ¬í˜„ì— ëŒ€í•´ ìƒì„¸í•˜ê²Œ ì•Œì•„ì•¼ í•œë‹¤. â†’ ê²°í•©ë„ ë†’ì•„ì§
        - í´ë˜ìŠ¤ì™€ì˜ ì •ì ì¸ ê´€ê³„ â†’ ì½”ë“œ ì‘ì„± ì‹œì ì— ìƒì† ê´€ê³„ë¥¼ ê²°ì •í•´ë²„ë¦¬ë©´ ë³€ê²½ ë¶ˆê°€
    - í•©ì„±
        - ì „ì²´ë¥¼ í‘œí˜„í•˜ëŠ” ê°ì²´ê°€ ë¶€ë¶„ì„ í‘œí˜„í•˜ëŠ” ê°ì²´ë¥¼ í¬í•¨í•´ì„œ **ë¶€ë¶„ ê°ì²´ì˜ ì½”ë“œ**ë¥¼ ì¬ì‚¬ìš©
        - ë‘ ê°ì²´ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì€ ëŸ°íƒ€ì„ì— í•´ê²°ëœë‹¤.
        - has - a ê´€ê³„
        - ì¬ì‚¬ìš© ë°©ë²•
            - ê°ì²´ì˜ êµ¬í˜„ì´ ì•„ë‹Œ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ì— ì˜ì¡´
            - ë³€ê²½ì˜ ì˜í–¥ì„ ë°›ì§€ ì•ŠìŒ
        - í´ë˜ìŠ¤ì™€ì˜ ë™ì ì¸ ê´€ê³„ â†’ ì‹¤í–‰ì‹œì ì— ë™ì ìœ¼ë¡œ ë³€í•  ìˆ˜ ìˆìŒ
            - â†’ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìƒì†ë³´ë‹¤ í•©ì„±ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ ë” ì¢‹ì€ ë°©ë²•
- ìƒì†ê³¼ í•©ì„±ì€ ì¬ì‚¬ìš©ì˜ ëŒ€ìƒì´ ë‹¤ë¥´ë‹¤.
    - ìƒì† â†’ ë¶€ëª¨ í´ë˜ìŠ¤ ì•ˆì— êµ¬í˜„ëœ ì½”ë“œ ìì²´ë¥¼ ì¬ì‚¬ìš© (í™”ì´íŠ¸ë°•ìŠ¤ ì¬ì‚¬ìš©)
    - í•©ì„± â†’ í¼ë¸”ë¦­ í´ë˜ìŠ¤ë¥¼ ì¬ì‚¬ìš© â†’ ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ì˜ì¡´ë„ â†’ ë‚®ì€ ê²°í•©ë„ (ë¸”ë™ë°•ìŠ¤ ì¬ì‚¬ìš©)

# (1) ìƒì†ì„ í•©ì„±ìœ¼ë¡œ ë³€ê²½ (ì•ˆì „ì„±)

- ì½”ë“œ ì¬ì‚¬ìš©ì„ ìœ„í•´ ìƒì† ë‚¨ìš©ì‹œ 3ê°€ì§€ ë¬¸ì œì 
    - (1) ë¶ˆí•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ ìƒì†
        - ìƒì† ë°›ì€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œê°€ ìì‹ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•œ ê·œì¹™ì„ ê¹¨íŠ¸ë¦´ ìˆ˜ ìˆë‹¤.
    - (2) ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©ì˜ ì˜¤ì‘ìš©
        - ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•  ê²½ìš° ë¶€ëª¨ í´ë˜ìŠ¤ê°€ ìì‹ ì˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ìì‹ í´ë˜ìŠ¤ê°€ ê²°í•©ë  ìˆ˜ ìˆë‹¤.
    - (3) ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ì˜ ë™ì‹œ ìˆ˜ì • ë¬¸ì œ
        - ê²°í•©ìœ¼ë¡œ ì¸í•´ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ìˆ˜ì • ì‹œ ìì‹ í´ë˜ìŠ¤ë„ ìˆ˜ì •í•´ì•¼í•¨
- í•©ì„±ìœ¼ë¡œ 3ê°€ì§€ ë¬¸ì œì ì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
    - ìƒì† ê´€ê³„ë¥¼ ì œê±°í•˜ê³  ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìì‹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì„ ì–¸í•˜ë©´ ëœë‹¤.

- ë¬¸ì œì ë“¤ì„ ìƒì† ê´€ê³„ë¡œ ë°”ê¿”ë³´ì

### (1) ë¶ˆí•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ ìƒì† ë¬¸ì œ

- **ë¬¸ì œì  : `java.util.Properties`**ì˜ ê²½ìš°, ì˜¤ì§ Stringìœ¼ë¡œë§Œ ë˜ì–´ ìˆëŠ” ****Key-ValueìŒì„ ê´€ë¦¬í•œë‹¤.
    - â†’ Hashtableì„ ìƒì†ë°›ê¸° ë•Œë¬¸ì— ì´ í´ë˜ìŠ¤ì˜ putì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ String ì—¬ë¶€ë¥¼ í™•ì¸í•˜ì—¬ ì²´í¬í•˜ëŠ” ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì— Stringì´ì™¸ì˜ ê°’ì´ë¼ë„ ì €ì¥í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
    - í•©ì„± ê´€ê³„ë¡œ ë³€ê²½
        
        ```java
        public class Properties {
        // Hashtableì™€ì˜ ìƒì† ê´€ê³„ ì œê±° í›„ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ í¬í•¨
            private Hashtable<String, String> properties = new Hashtable <>();
        
            public String setProperty(String key, String value) {
                return properties.put(key, value);
            }
        
            public String getProperty(String key) {
                return properties.get(key);
            }
        }
        ```
        
        - Propertiesì—ì„œ ì •ì˜í•œ ì˜¤í¼ë ˆì´ì…˜ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
            - Hashtableì˜ ì˜¤í¼ë ˆì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë˜ì–´ Properties ê·œì¹™ì„ ì–´ê¸¸ ìœ„í—˜ì„±ì€ ì‚¬ë¼ì§„ë‹¤.
            - ìƒì†ì€ Hashtableì˜ ë‚´ë¶€ êµ¬í˜„ì„ ë‹¤ ì•Œ ìˆ˜ ë°–ì— ì—†ì—ˆì§€ë§Œ Hashtableì˜ ë‚´ë¶€ êµ¬í˜„ì— ëŒ€í•´ ëª¨ë¥´ê²Œ ë˜ì—ˆë‹¤.
- ë¬¸ì œì  : Stackë„ Vectorì˜ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì´ìš©í•˜ë©´ get, add, removeë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
    - â†’ ì´ê²ƒì€ ë§¨ ë§ˆì§€ë§‰ ìœ„ì¹˜ì—ë§Œ ë„£ê³  ëº„ ìˆ˜ ìˆëŠ” Stack ê·œì¹™ì„ ì‰½ê²Œ ìœ„ë°˜í•˜ëŠ” ê²ƒì„
    - ğŸª„í•©ì„± ê´€ê³„ë¡œ ë³€ê²½(ë¾°ë¡œë¡±!)
        
        ```java
        public class Stack<E> {
        // ì›ë˜ ìƒì† ê´€ê³„ ì˜€ë˜ ê²ƒì„ ë³€ìˆ˜ë¡œ ì„ ì–¸ -> í•©ì„± ê´€ê³„ 
            private Vector<E> elements = new Vector<>();
        
            public E push(E item) {
                elements.addElement(item);
                return item;
            }
        
            public E pop() {
                if (elements.isEmpty()) {
                    throw new EmptyStackException();
                }
                return elements.remove(elements.size() - 1);
            }
        }
        ```
        

### (2) ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©ì˜ ì˜¤ì‘ìš© ë¬¸ì œ

- ë¬¸ì œì  : ìì‹ì—ì„œ êµ¬í˜„í•´ë†“ì€ ê²ƒê³¼ ë¡œì§ì´ í•©ì³ì§ˆ ìˆ˜ ìˆë‹¤.
    - ğŸª„í•©ì„± ê´€ê³„ë¡œ ë³€ê²½(ë¾°ë¡œë¡±!)
        
        ```java
        public class InstrumentedHashSet<E>{
            private int addCount = 0;
            
            
            // ë³€ìˆ˜ë¡œ ë„£ì–´ í•©ì„± ê´€ê³„ë¡œ 
            private Set<E> set;
        
            public InstrumentedHashSet(Set<E> set) {
                this.set = set;
            }
        
            @Override
            public boolean add(E e) {
                addCount++;
                return set.add(e);
            }
        
            @Override
            public boolean addAll(Collection<? extends E> c) {
                addCount += c.size();
                return set.addAll(c);
            }
        ```
        
        - ì•ì—ì„œ stackê³¼ ê°™ì€ ì¼€ì´ìŠ¤ëŠ” ë¶ˆí•„ìš”í•œ ì˜¤í¼ë ˆì´ì…˜ì´ ìŠ¤ë©°ë“œëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ í•©ì„± ê´€ê³„ë¡œ ë³€ê²½í•œ ê²ƒì´ì—ˆì§€ë§Œ, HashSetì´ ì œê³µí•˜ëŠ” í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ì•¼í•œë‹¤.
            - ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê²°í•©ë„ë¥¼ ì œê±°í•˜ë©´ì„œ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½
                - InstrumentedHashSetì´ ì œê³µí•´ì•¼í•˜ëŠ” ëª¨ë“  ì˜¤í¼ë ˆì´ì…˜ì€ Set ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜ë˜ì–´ ìˆìŒ
                - Set ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹¤ì²´í™”í•˜ë©´ì„œ ë‚´ë¶€ì— HashSetë¥¼ í•©ì„±í•˜ë©´ êµ¬í˜„ ê²°í•©ë„ ì œê±°í•˜ë©´ì„œ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ ê°€ëŠ¥
        
        ```java
        public class InstrumentedHashSet<E> implements Set<E> {
            private int addCount = 0;
            
            //HashSetí•©ì„± 
            private Set<E> set;
        
            public InstrumentedHashSet(Set<E> set) {
                this.set = set;
            }
        
            @Override
            public boolean add(E e) {
                addCount++;
                return set.add(e);
            }
        
            @Override
            public boolean addAll(Collection<? extends E> c) {
                addCount += c.size();
                return set.addAll(c);
            }
        
            public int getAddCount() {
                return addCount;
            }
        
            @Override public boolean remove(Object o) {
                return set.remove(o);
            }
        
            @Override public void clear() {
                set.clear();
            }
        
            @Override public boolean equals(Object o) {
                return set.equals(o);
            }
        
            @Override public int hashCode() {
                return set.hashCode();
            }
        
            @Override public Spliterator<E> spliterator() {
                return set.spliterator();
            }
        
            @Override public int size() {
                return set.size();
            }
        
            @Override public boolean isEmpty() {
                return set.isEmpty();
            }
        
            @Override public boolean contains(Object o) {
                return set.contains(o);
            }
        
            @Override public Iterator<E> iterator() {
                return set.iterator();
            }
        
            @Override public Object[] toArray() {
                return set.toArray();
            }
        
            @Override public <T> T[] toArray(T[] a) {
                return set.toArray(a);
            }
        
            @Override public boolean containsAll(Collection<?> c) {
                return set.containsAll(c);
            }
        
            @Override public boolean retainAll(Collection<?> c) {
                return set.retainAll(c);
            }
        
            @Override public boolean removeAll(Collection<?> c) {
                return set.removeAll(c);
            }
        }
        ```
        
        - í¬ì›Œë”© ë©”ì„œë“œ
            - ì¸í„°í˜ì´ìŠ¤(Set)ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•œ ë©”ì„œë“œ ë‚´ì—ì„œ HashSet ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ ë™ì¼í•œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•
            - ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤(Set)ì„ ê·¸ëŒ€ë¡œ ì™¸ë¶€ì— ì œê³µí•˜ë©´ì„œ êµ¬í˜„ì— ëŒ€í•œ ê²°í•¨ì—†ì´ ì¼ë¶€ ì‘ë™ ë°©ì‹ì„ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©

### (3) ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ì˜ ë™ì‹œ ìˆ˜ì • ë¬¸ì œ

- ë¬¸ì œì  : ê²°í•©ìœ¼ë¡œ ì¸í•´ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ìˆ˜ì • ì‹œ ìì‹ í´ë˜ìŠ¤ë„ ìˆ˜ì •í•´ì•¼í•¨
    - í•©ì„± ê´€ê³„ë¡œ ë³€ê²½í•˜ë”ë¼ë„ ë¬¸ì œëŠ” ê·¸ëŒ€ë¡œì´ë‹¤.
        
        ```java
        public class PersonalPlaylist {
            private Playlist playlist = new Playlist();
        
            public void append(Song song) {
                playlist.append(song);
            }
        
            public void remove(Song song) {
                playlist.getTracks().remove(song);
                playlist.getSingers().remove(song.getSinger());
            }
        }
        ```
        
    - ê·¸ë˜ë„ ìƒì†ë³´ë‹¤ëŠ” í•©ì„± ê´€ê³„ê°€ ë‚˜ìŒ
        - â†’ ë¶€ëª¨ì˜ ë³€ê²½ íŒŒê¸‰ íš¨ê³¼ë¥¼ ë‚´ë¶€ë¡œ ìº¡ìŠí™” ê°€ëŠ¥
- ëª½í‚¤ íŒ¨ì¹˜ (Monkey Patch)
    - ì‹¤í–‰ ì¤‘ì¸ í™˜ê²½ì—ë§Œ ì˜í–¥ì„ ë¯¸ì¹˜ë„ë¡ ì§€ì—­ì ìœ¼ë¡œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ í™•ì¥
        - ìë°”ëŠ” ì–¸ì–´ì°¨ì›ì—ì„œ ì§€ì›í•´ì£¼ì§€ ì•Šì§€ë§Œ AOPë¥¼ ì´ìš©í•´ ëª½í‚¤ íŒ¨ì¹˜ë¥¼ êµ¬í˜„í•˜ê³  ìˆë‹¤.
        - Spring AOPë¥¼ ì‚¬ìš©í•˜ë©´ **ì‹¤í–‰ ì¤‘ì—** íŠ¹ì • ë©”ì„œë“œì— ì¶”ê°€ ê¸°ëŠ¥ì„ ì‚½ì…í•  ìˆ˜ ìˆìœ¼ë©°, ì´ëŠ” ëª½í‚¤ íŒ¨ì¹˜ì™€ ìœ ì‚¬í•˜ê²Œ ëŸ°íƒ€ì„ì— íŠ¹ì • ë©”ì„œë“œì˜ ë™ì‘ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤.
    - AOP ì˜ˆì‹œ
        - ì ìš© ì½”ë“œ
            
            ```java
            package com.example.service;
            
            import org.springframework.stereotype.Service;
            
            @Service
            public class DataService {
                public void processData() {
                    System.out.println("Processing data...");
                    // ì‹¤ì œ ì²˜ë¦¬ ë¡œì§
                }
            }
            
            ```
            
        - AOP ì½”ë“œ
            
            ```java
            package com.example.aspect;
            
            import org.aspectj.lang.annotation.After;
            import org.aspectj.lang.annotation.Before;
            import org.aspectj.lang.annotation.Aspect;
            import org.springframework.stereotype.Component;
            
            @Aspect
            @Component
            public class DataServiceAspect {
            
                // ì‹¤í–‰ ì „ ë¡œì§
                @Before("execution(* com.example.service.DataService.processData(..))")
                public void beforeProcessData() {
                    System.out.println("Before processing data - Preprocessing steps...");
                }
            
                // ì‹¤í–‰ í›„ ë¡œì§
                @After("execution(* com.example.service.DataService.processData(..))")
                public void afterProcessData() {
                    System.out.println("After processing data - Postprocessing steps...");
                }
            }
            
            ```
            
        - ì´ì œ `DataService`ì˜ `processData()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ AOPì— ì˜í•´ ì¶”ê°€ëœ "Before"ì™€ "After" ë©”ì‹œì§€ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.
            
            ```java
            Before processing data - Preprocessing steps...
            Processing data...
            After processing data - Postprocessing steps...
            ```
            
        - ì—¬ê¸°ì„œ! ë§¤ë²ˆ ì˜ë¬¸ì´ ë“¤ì—ˆë˜ ë¶€ë¶„ì„ í™•ì‹¤íˆ í™•ì¸í•˜ê³  ë„˜ì–´ê°ˆ ìˆ˜ ìˆì—ˆë‹¤.
            - AOPë¥¼ ì‚¬ìš©í•´ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì»´íŒŒì¼í•œ í›„ì—ëŠ” ë³€ê²½ëœ ë™ì‘ì´ ê³ ì •ë˜ë¯€ë¡œ, ì—„ë°€íˆ ë§í•´ *ì‹¤ì œ ëŸ°íƒ€ì„ ì¤‘ê°„ì—* ë°”ë€ŒëŠ” ê²ƒì€ ì•„ë‹Œê°€?
            - ë‹µë³€ : AOPëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì½”ë“œì˜ ì›ë³¸ì„ ìˆ˜ì •í•˜ì§€ ì•Šê³  í”„ë¡ì‹œ ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ëŒ€ìƒ ë©”ì„œë“œì˜ ë™ì‘ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. ì´ ì ì—ì„œ ì›ë˜ì˜ ì½”ë“œê°€ ìˆ˜ì •ëœ ê²ƒì²˜ëŸ¼ *ì™¸ë¶€ì ìœ¼ë¡œ ë³´ì´ê²Œ* í•˜ë©°, ì‹¤ì œ í˜¸ì¶œ ì‹œì ì—ë§Œ ì˜í–¥ì„ ì£¼ëŠ” ë°©ì‹ì´ê¸° ë•Œë¬¸ì— ì œí•œì ì´ë‚˜ë§ˆ ëŸ°íƒ€ì„ì—ì„œì˜ ë™ì‘ ë³€í™”ë¥¼ í‰ë‚´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                - ë¦¬í”Œë ‰ì…˜ë„ ë§ˆì°¬ê°€ì§€ë¡œ ë¯¸ë¦¬ ì •ì˜ëœ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ í•„ë“œ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ìˆ ì´ì§€, *ì‹¤ì œ ì½”ë“œ ìì²´ë¥¼ ë³€í˜•í•˜ê±°ë‚˜ ìƒˆë¡œìš´ ë¡œì§ì„ ì¶”ê°€*í•˜ëŠ” ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤.

# (2) ìƒì†ìœ¼ë¡œ ì¸í•œ ì¡°í•©ì˜ í­ë°œì ì¸ ì¦ê°€ (ìœ ì—°ì„±)

- ìƒì†ìœ¼ë¡œ ì¸í•´ ê²°í•©ë„ê°€ ë†’ì•„ì§€ë©´ ìƒê¸°ëŠ” ë¬¸ì œì 
    - (1) í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€ í˜¹ì€ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ë¶ˆí•„ìš”í•˜ê²Œ ë§ì€ ìˆ˜ì˜ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•´ì•¼í•œë‹¤. (**í´ë˜ìŠ¤ ì¦ê°€**)
    - (2) ë‹¨ì¼ ìƒì†ë§Œ ì§€ì›í•˜ëŠ” ì–¸ì–´ì—ì„œëŠ” ìƒì†ìœ¼ë¡œ ì¸í•´ ì˜¤íˆë ¤ **ì¤‘ë³µ ì½”ë“œ**ì˜ ì–‘ì´ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤.

- í•©ì„±ìœ¼ë¡œ ìƒì†ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” í´ë˜ìŠ¤ì˜ ì¦ê°€ì™€ ì¤‘ë³µ ì½”ë“œ í•´ê²° ê°€ëŠ¥

### ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±… ì¡°í•©í•˜ê¸°

- í•¸ë“œí° ìš”ê¸ˆì œê°€ ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±…ì„ ì¡°í•©í•´ì„œ ë‚˜ì˜¨ë‹¤ê³  ê°€ì •
    - ê¸°ë³¸ ì •ì±…
        - ì¼ë°˜ ìš”ê¸ˆì œ
        - ì‹¬ì•¼ í• ì¸ ìš”ê¸ˆì œ
    - ë¶€ê°€ ì •ì±…
        - ì„¸ê¸ˆ ì •ì±…
        - ê¸°ë³¸ ìš”ê¸ˆ í• ì¸ ì •ì±…
- ê¸°ë³¸ ì •ì±…
    - ê°€ì…ìì˜ í†µí™” ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤.
    - ë”°ë¼ì„œ, í†µí™”ëŸ‰ì„ ê¸°ë°˜ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ” ì¼ë°˜ ìš”ê¸ˆì œì™€ ì‹¬ì•¼ í• ì¸ ìš”ê¸ˆì œë¥¼ ê¸°ë³¸ ì •ì±…ìœ¼ë¡œ ë¶„ë¥˜í•¨
- ë¶€ê°€ì •ì±…
    - í†µí™”ëŸ‰ê³¼ ë¬´ê´€í•˜ê²Œ ê¸°ë³¸ ì •ì±…ì— ì„ íƒì ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ìš”ê¸ˆ ë°©ì‹
    - íŠ¹ì„±
        - (1) ê¸°ë³¸ ì •ì±…ì˜ ê³„ì‚° ê²°ê³¼ì— ì ìš©í•œë‹¤.
            - ì¼ë°˜ ìš”ê¸ˆì œ í˜¹ì€ ì‹¬ì•¼ í• ì¸ ìš”ê¸ˆì œ ê³„ì‚°ì´ ëë‚œ ê²°ê³¼ì— ì„¸ê¸ˆì„ ë¶€ê³¼
        - (2) ì„ íƒì ìœ¼ë¡œ ì ìš© ê°€ëŠ¥
            - ì ìš©í•  ìˆ˜ë„ ìˆê³  ì•ˆí•  ìˆ˜ë„ ìˆë‹¤.
        - (3) ì¡°í•© ê°€ëŠ¥
            - 1ê°œì˜ ë¶€ê°€ ì •ì±…ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì¢…ë¥˜ ëª¨ë‘ ì‚¬ìš© ê°€ëŠ¥
        - (4) ë¶€ê°€ ì •ì±…ì€ ì„ì˜ì˜ ìˆœì„œë¡œ ì ìš© ê°€ëŠ¥
            - ì„¸ê¸ˆ ì •ì±… ê³„ì‚° í›„ ê¸°ë³¸ ìš”ê¸ˆ í• ì¸ ì •ì±… ê³„ì‚°ì„ í•˜ê±°ë‚˜ ë°˜ëŒ€ì˜ ìˆœì„œë„ ê°€ëŠ¥
            
- ê°€ëŠ¥í•œ ì¡°í•©ì´ ë„ˆë¬´ ë§ë‹¤. â†’ ìœ ì—°í•´ì•¼í•œë‹¤.

### ìƒì†ì„ ì´ìš©í•´ì„œ ê¸°ë³¸ ì •ì±… êµ¬í˜„í•˜ê¸°

- ê¸°ë³¸ ì •ì±…
    - phone(ì¶”ìƒ í´ë˜ìŠ¤)
        
        ```java
        public abstract class Phone {
            private List<Call> calls = new ArrayList<>();
        
            public Money calculateFee() {
                Money result = Money.ZERO;
        
                for(Call call : calls) {
                    result = result.plus(calculateCallFee(call));
                }
        
                return result;
            }
        
            abstract protected Money calculateCallFee(Call call);
        }
        ```
        
    - RegularPhone
        
        ```java
        public class RegularPhone extends Phone {
            private Money amount;
            private Duration seconds;
        
            public RegularPhone(Money amount, Duration seconds) {
                this.amount = amount;
                this.seconds = seconds;
            }
        
            @Override
            protected Money calculateCallFee(Call call) {
                return amount.times(call.getDuration().getSeconds() / seconds.getSeconds());
            }
        }
        ```
        
    - NightlyDiscountPhone
        
        ```java
        public class NightlyDiscountPhone extends Phone {
            private static final int LATE_NIGHT_HOUR = 22;
        
            private Money nightlyAmount;
            private Money regularAmount;
            private Duration seconds;
        
            public NightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds) {
                this.nightlyAmount = nightlyAmount;
                this.regularAmount = regularAmount;
                this.seconds = seconds;
            }
        
            @Override
            protected Money calculateCallFee(Call call) {
                if (call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
                    return nightlyAmount.times(call.getDuration().getSeconds() / seconds.getSeconds());
                } else {
                    return regularAmount.times(call.getDuration().getSeconds() / seconds.getSeconds());
                }
            }
        }
        ```
        

### **ê¸°ë³¸ ì •ì±…ì— ì„¸ê¸ˆ ì •ì±… ì¡°í•©í•˜ê¸°(1)**

- **ê¸°ë³¸ ì •ì±…ì— â€œì„¸ê¸ˆ ì •ì±…â€**
    - **ì¼ë°˜ ìš”ê¸ˆì œì— ì„¸ê¸ˆ ì •ì±…ì„ ì¡°í•©**í•˜ê¸° ìœ„í•´ RegularPhone í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì€ TaxableRegularPhone í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•œë‹¤.
        - calculateFee ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•œ í›„ super í˜¸ì¶œì„ í†µí•´ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ calculateFee ë©”ì„œë“œë¡œ ì¼ë°˜ ìš”ê¸ˆì œ ê·œì¹™ì— ë”°ë¼ ê³„ì‚°ëœ ìš”ê¸ˆì— ì„¸ê¸ˆì„ ë”í•˜ì—¬ ë°˜í™˜í•œë‹¤.
            
            ```java
            public class TaxableRegularPhone extends RegularPhone {
                private double taxRate;
            
                public TaxableRegularPhone(Money amount, Duration seconds, double taxRate) {
                    //super í˜¸ì¶œì€ ìì‹ í´ë˜ìŠ¤ì™€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ê²°í•©ë„ê°€ ë†’ì•„ì§„ë‹¤.
                    super(amount, seconds);
                    this.taxRate = taxRate;
                }
            
                @Override
                public Money calculateFee() {
                    Money fee = super.calculateFee();
                    return fee.plus(fee.times(taxRate));
                }
            }
            ```
            
    
    - í•˜ì§€ë§Œ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´ ë¶€ëª¨ í´ë˜ìŠ¤ì— ì¶”ìƒ ë©”ì„œë“œë¥¼ ì •ì˜í•˜ì—¬ ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ í•œë‹¤.
        - ì¶”ìƒ í´ë˜ìŠ¤ ìˆ˜ì •
            
            ```java
            public abstract class Phone {
                private List<Call> calls = new ArrayList<>();
            
                public Money calculateFee() {
                    Money result = Money.ZERO;
            
                    for (Call call : calls) {
                        result = result.plus(calculateCallFee(call));
                    }
            
                    return afterCalculated(result);
                }
            
                protected abstract Money calculateCallFee(Call call);
                
                // ê²°í•©ë„ë¥¼ ë‚®ì¶”ê¸° ìœ„í•´ ì¶”ìƒ í´ë˜ìŠ¤ì— ì •ì˜ -> ìì‹ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©
            		// calculateFee ë©”ì„œë“œì—ì„œ ì „ì²´ ìš”ê¸ˆì„ ê³„ì‚°í•œ í›„ì— afterCalculated ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì „ì²´ ìš”ê¸ˆ ê³„ì‚° í›„ ìˆ˜í–‰í•  ë¡œì§ì„ ìˆ˜í–‰
                protected abstract Money afterCalculated(Money fee);
            }
            ```
            
        - RegularPhone, NightlyDiscountPhoneì€ ìš”ê¸ˆì„ ìˆ˜ì •í•  í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ íŒŒë¼ë¯¸í„°ì—ì„œ ì „ë‹¬ëœ ìš”ê¸ˆì„ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•œë‹¤.
            
            ```java
            public class RegularPhone extends Phone {
                private Money amount;
                private Duration seconds;
            
                public RegularPhone(Money amount, Duration seconds) {
                    this.amount = amount;
                    this.seconds = seconds;
                }
            
                @Override
                protected Money calculateCallFee(Call call) {
                    return amount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
                }
            
            // ê·¸ëŒ€ë¡œ ë°˜í™˜
                @Override
                protected Money afterCalculated(Money fee) {
                    return fee;
                }
            }
            ```
            
            ```java
            public class NightlyDiscountPhone extends Phone {
            
                private static final int LATE_NIGHT_HOUR = 22;
            
                private Money nightlyAmount;
                private Money regularAmount;
                private Duration seconds;
            
                public NightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds) {
                    this.nightlyAmount = nightlyAmount;
                    this.regularAmount = regularAmount;
                    this.seconds = seconds;
                }
            
                @Override
                protected Money calculateCallFee(Call call) {
                    if (call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
                        return nightlyAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
                    }
            
                    return regularAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
                }
            
                @Override
                protected Money afterCalculated(Money fee) {
                    return fee;
                }
            }
            ```
            
    - ê°œì„ ì 
        - ëª¨ë“  ìì‹ë“¤ì´ ì¶”ìƒ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©ì„ ê¼­ í•´ì•¼í•˜ë¯€ë¡œ ë²ˆê±°ë¡œì›€â†’ NightlyDiscountPhone, RegularPhone ë‘˜ë‹¤ ë™ì¼í•œ ë¡œì§ì˜ í•¨ìˆ˜ë¡œ êµ¬í˜„í–ˆìœ¼ë¯€ë¡œ ì¤‘ë³µ
            - â†’ ì¶”ìƒ ë©”ì„œë“œì— **ê¸°ë³¸ êµ¬í˜„ì„ í•¨ê»˜ ì œê³µ**í•˜ì—¬ ì¤‘ë³µ ì½”ë“œë¥¼ ì œê±°í•  ìˆ˜ ìˆë‹¤. ( í›… ë©”ì„œë“œ : ì¶”ìƒ ë©”ì„œë“œì˜ ë‹¨ì  í•´ê²° )
            
            ```java
            public abstract class Phone {
                private List<Call> calls = new ArrayList<>();
            
                public Money calculateFee() {
                    Money result = Money.ZERO;
            
                    for (Call call : calls) {
                        result = result.plus(calculateCallFee(call));
                    }
            
                    return afterCalculated(result);
                }
            
            // ì¤‘ë³µ ì œê±° 
                protected Money afterCalculated(Money fee) {
                    return fee;
                }
                protected abstract Money calculateCallFee(Call call);
            }
            ```
            
            ```java
            public class RegularPhone extends Phone {
                private Money amount;
                private Duration seconds;
            
                public RegularPhone(Money amount, Duration seconds) {
                    this.amount = amount;
                    this.seconds = seconds;
                }
            
                @Override
                protected Money calculateCallFee(Call call) {
                    return amount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
                }
            }
            ```
            
            ```java
            public class NightlyDiscountPhone extends Phone {
            
                private static final int LATE_NIGHT_HOUR = 22;
            
                private Money nightlyAmount;
                private Money regularAmount;
                private Duration seconds;
            
                public NightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds) {
                    this.nightlyAmount = nightlyAmount;
                    this.regularAmount = regularAmount;
                    this.seconds = seconds;
                }
            
                @Override
                protected Money calculateCallFee(Call call) {
                    if (call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
                        return nightlyAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
                    }
            
                    return regularAmount.times((double) call.getDuration().getSeconds() / seconds.getSeconds());
                }
            }
            ```
            
    - TaxableRegularPhone í´ë˜ìŠ¤ëŠ” ì„¸ê¸ˆì„ ë¶€ê³¼í•˜ëŠ” ë¶€ê°€ì •ì±…ì´ë‹¤. afterCalculated ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•œ í›„ feeì— ì„¸ê¸ˆì„ ë”í•´ì„œ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„
        
        ```java
        public class TaxableRegularPhone extends RegularPhone {
            private double taxRate;
        
            public TaxableRegularPhone(Money amount, Duration seconds, double taxRate) {
                super(amount, seconds);
                this.taxRate = taxRate;
            }
        
            @Override
            protected Money afterCalculated(Money fee) {
                return fee.plus(fee.times(taxRate));
            }
        }
        ```
        
        ```java
        public class TaxableNightlyDiscountPhone extends NightlyDiscountPhone {
            private double taxRate;
        
            public TaxableNightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds, double taxRate) {
                super(nightlyAmount, regularAmount, seconds);
                this.taxRate = taxRate;
            }
        
            @Override
            protected Money afterCalculated(Money fee) {
                return fee.plus(fee.times(taxRate));
            }
        }
        ```
        

### **ê¸°ë³¸ ì •ì±…ì— ì„¸ê¸ˆ ì •ì±… ì¡°í•©í•˜ê¸°(2)**

- **ê¸°ë³¸ ì •ì±…ì— â€œê¸°ë³¸ ìš”ê¸ˆ í• ì¸ ì •ì±…â€**
    - ê³ ì •ëœ ê¸ˆì•¡ ë” í• ì¸í•¨
    - RegularPhone, NightlyDiscountPhoneì„ ìƒì†ë°›ëŠ”RateDiscountableRegularPhone, RateDiscountableNightlyDiscountPhone í´ë˜ìŠ¤ë¥¼ ì¶”ê°€
    - RateDiscountableRegularPhone
        
        ```java
        public class RateDiscountableRegularPhone extends RegularPhone {
            private Money discountAmount;
        
            public RateDiscountableRegularPhone(Money amount, Duration seconds, Money discountAmount) {
                super(amount, seconds);
                this.discountAmount = discountAmount;
            }
        
            @Override
            protected Money afterCalculated(Money fee) {
                return fee.minus(discountAmount);
            }
        }
        ```
        
    - RateDiscountableNightlyDiscountPhone
        
        ```java
        public class RateDiscountableNightlyDiscountPhone extends NightlyDiscountPhone {
            private Money discountAmount;
        
            public RateDiscountableNightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds, Money discountAmount) {
                super(nightlyAmount, regularAmount, seconds);
                this.discountAmount = discountAmount;
            }
        
            @Override
            protected Money afterCalculated(Money fee) {
                return fee.minus(discountAmount);
            }
        }
        ```
        

- ì™„ì„±ëœ ì¡°í•© ê³„ì¸µ
    - í´ë˜ìŠ¤ê°€ í•˜ë‚˜ì˜ ì¡°í•© ì˜ë¯¸
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-11-13 á„‹á…©á„’á…® 4.54.54.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e2c6ccd4-4439-43db-96e9-e654aaf4aa71/2d4379d8-b2ad-4cc2-9761-6ea4d943f464/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-11-13_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_4.54.54.png)
        

### ì¤‘ë³µ ì½”ë“œì˜ ë«ì— ê±¸ë¦¬ë‹¤.

- RateDiscountableRegularPhone, RateDiscountableNightlyDiscountPhone í´ë˜ìŠ¤ ì‚¬ì´ì˜ ì¤‘ë³µ ì½”ë“œ ë°œìƒ â†’ ì´ëŠ” ì—¬ëŸ¬ ë¶€ê°€ ì •ì±… ë“¤ì„ ì¡°í•©í•  ë•Œ ë¬¸ì œê°€ ìƒê¹€
- ì¡°ê±´ ì¤‘ ì„¸ê¸ˆ ì •ì±…ê³¼ ê¸°ë³¸ ìš”ê¸ˆ í• ì¸ ì •ì±…ì„ í•¨ê»˜ ì ìš©í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ê³  ë°˜ëŒ€ì˜ ìˆœì„œë„ ê°€ëŠ¥í•˜ë‹¤.
    - ìƒì†ì„ ì´ìš©í•œ í•´ê²° ë°©ë²•ì€ ëª¨ë“  ê°€ëŠ¥í•œ ì¡°í•©ë³„ë¡œ ìì‹ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤.
    - ì´ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ ê°ê° ìì‹ í´ë˜ìŠ¤ë¡œ ë˜ ë§Œë“œëŠ” ê²ƒì´ë‹¤.
- ìƒˆë¡œìš´ ìì‹ TaxableAndDiscountableNightlyDiscountPhone
    - (1) ì„¸ê¸ˆ ì •ì±… í›„ â†’ ê¸°ë³¸ í• ì¸ ìš”ê¸ˆ ê³„ì‚°
    
    ```java
    public class TaxableAndDiscountableRegularPhone extends TasxableRegularPhone {
        private Money discountAmount;
    
        public TaxableAndDiscountableNightlyDiscountPhone(Money nightlyAmount, Money regularAmount, Duration seconds,
              double taxRate, Money discountAmount) {
            super(nightlyAmount, regularAmount, seconds, taxRate);
            this.discountAmount = discountAmount;
        }
    
        @Override
        protected Money afterCalculated(Money fee) {
        // ë¶€ëª¨ í´ë˜ìŠ¤ì¸ TasxableRegularPhoneì˜ afterCalculatedë¥¼ í˜¸ì¶œ í›„ -> ê¸°ë³¸ ìš”ê¸ˆ í• ì¸ ì •ì±…ì„ ì ìš©í•œë‹¤. 
            return super.afterCalculated(fee).minus(discountAmount);
        }
    }
    ```
    
- ìˆœì„œ ì¡°í•©ë„ ê³ ë ¤í•œ ê³„ì¸µ ê´€ê³„
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-11-13 á„‹á…©á„’á…® 5.03.20.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e2c6ccd4-4439-43db-96e9-e654aaf4aa71/be1e6d04-5f78-435f-abdf-ed88e8b13f82/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-11-13_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.03.20.png)
    
- í•˜ì§€ë§Œ ì´ë ‡ê²Œ ëœë‹¤ë©´ ë³µì¡í•˜ë©° ìƒˆë¡œìš´ ì •ì±… ì¶”ê°€ê°€ ì–´ë µë‹¤ëŠ” ê²ƒì´ë‹¤.
    - ìƒˆë¡œìš´ ì •ì±…ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ ë¶ˆí•„ìš”í•˜ê²Œ ë§ì€ ìˆ˜ì˜ í´ë˜ìŠ¤ë¥¼ ìƒì† ê³„ì¸µ ì•ˆì— ì¶”ê°€í•´ì•¼í•œë‹¤.
    - ex) FixedRatePhone ì¶”ê°€ ì‹œ ê°€ëŠ¥í•œ ì¡°í•©ë“¤ ìˆ˜(5ê°œë‚˜) ë§Œí¼ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.
        
        ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-11-13 á„‹á…©á„’á…® 5.05.53.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e2c6ccd4-4439-43db-96e9-e654aaf4aa71/db3dff1a-bad2-4fce-b0c1-b0a13068f4a5/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-11-13_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.05.53.png)
        
        â‡’ â€œí´ë˜ìŠ¤ í­ë°œâ€ ë¬¸ì œ or â€œì¡°í•© í­ë°œâ€ ë¬¸ì œ 
        
        - ì´ëŠ” ìƒì†ì˜ ê·¼ë³¸ì ì¸ í•œê³„
        - ì»´íŒŒì¼ íƒ€ì„ì— ê²°ì •ëœ ìì‹ í´ë˜ìŠ¤ì™€ ë¶€ëª¨ í´ë˜ìŠ¤ ì‚¬ì´ì˜ ê´€ê³„ëŠ” ë³€ê²½ë  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ë¬¸ì œ
        - í•´ê²° ë°©ë²• : ìƒì†ì„ í¬ê¸°
        

# (3) í•©ì„± ê´€ê³„ë¡œ ë³€ê²½í•˜ê¸°

- ìƒì† ê´€ê³„ëŠ” ì»´íŒŒì¼ íƒ€ì„ì— ê´€ê³„ê°€ ê³ ì •ë˜ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ í­ë°œ ë¬¸ì œê°€ ë°œìƒí–ˆìœ¼ë¯€ë¡œ ì´ê²ƒì„ ëŸ°íƒ€ì„ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì˜ì¡´ì„±ì„ ììœ ë¡­ê²Œ ë³€ê²½í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
- í•©ì„±ìœ¼ë¡œ ì»´íŒŒì¼ íƒ€ì„ ì˜ì¡´ì„±ê³¼ ëŸ°íƒ€ì„ ì˜ì¡´ì„±ì„ ë‹¤ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ìˆì–´ ìœ ì—°í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
    - ìƒì†ì˜ ê²½ìš°ì—ëŠ” ì¡°í•©ì˜ ê²°ê³¼ë¥¼ ê°œë³„ í´ë˜ìŠ¤ ì•ˆìœ¼ë¡œ ë°€ì–´ ë„£ëŠ” ë°©ë²•ì´ì§€ë§Œ,
    - í•©ì„±ì€ ì¡°í•©ì„ êµ¬ì„±í•˜ëŠ” ìš”ì†Œë“¤ì„ ê°œë³„ í´ë˜ìŠ¤ë¡œ êµ¬í˜„í•œ í›„ ì‹¤í–‰ ì‹œì ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¡°ë¦½í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ ìœ ì—°í•˜ë‹¤.
        - ê³ ì •í•˜ì§€ ì•Šê³  ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±…ì„ ë…ë¦½ì ì¸ ë°•ìŠ¤ë¡œ í‘œí˜„
- ë¬¼ë¡ , ì»´íŒŒì¼ íƒ€ì„ ì˜ì¡´ì„±ê³¼ ëŸ°íƒ€ì„ ì˜ì¡´ì„±ì´ ë©€ìˆ˜ë¡ êµ¬í˜„ì´ ë³µì¡í•˜ë‹¤ëŠ” ë‹¨ì ì´ ìˆì§€ë§Œ (íŠ¸ë ˆì´ë“œ ì˜¤í”„ ê´€ê³„) ë³€ê²½í•˜ê¸° í¸ë¦¬í•œ ì„¤ê³„ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë³µì¡ì„±ì„ ë”í•˜ë©´ ì›ë˜ ì„¤ê³„ë³´ë‹¤ ë‹¨ìˆœí•´ì§„ë‹¤.

### ê¸°ë³¸ ì •ì±… í•©ì„±í•˜ê¸°

- ê°€ì¥ ë¨¼ì €í•´ì•¼í•  ì¼ = ê° ì •ì±…ì„ ë³„ë„ì˜ í´ë˜ìŠ¤ë¡œ êµ¬í˜„
    - í•¸ë“œí°ì´ë¼ëŠ” ê°œë…ìœ¼ë¡œë¶€í„° ìš”ê¸ˆ ê³„ì‚° ë°©ë²•ì´ë¼ëŠ” ê°œë…ì„ ë¶„ë¦¬í•˜ì
        - ê¸°ë³¸ì •ì±…ê³¼ ë¶€ê°€ ì •ì±…ì„ í¬ê´„í•˜ëŠ” RatePolicy ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€
            
            ```java
            public interface RatePolicy {
            // ìš”ê¸ˆ ê³„ì‚°
                Money calculateFee(Phone phone);
            }
            ```
            
    - ê¸°ë³¸ ì •ì±…ì„ êµ¬ì„±í•˜ëŠ” ì¼ë°˜ ìš”ê¸ˆì œì™€ ì‹¬ì•¼ í• ì¸ ìš”ê¸ˆì œì˜ ì¤‘ë³µ ì½”ë“œë¥¼ ë‹´ì„ ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€
        
        ```java
        public abstract class BasicRatePolicy implements RatePolicy {
            @Override
            public Money calculateFee(Phone phone) {
                Money result = Money.ZERO;
        
                for(Call call : phone.getCalls()) {
                    result.plus(calculateCallFee(call));
                }
        
                return result;
            }
        
        // ìì‹ í´ë˜ìŠ¤ì—ì„œ ì˜¤ë²„ë¼ì´ë”©ì„ í†µí•´ ìì‹ ë§Œì˜ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ê°€ëŠ¥ 
            protected abstract Money calculateCallFee(Call call);
        }
        ```
        
        - ì¼ë°˜ ìš”ê¸ˆì œ ( BasicRatePolicyì˜ ìì‹ í´ë˜ìŠ¤ )
            
            ```java
            public class RegularPolicy extends BasicRatePolicy {
                private Money amount;
                private Duration seconds;
            
                public RegularPolicy(Money amount, Duration seconds) {
                    this.amount = amount;
                    this.seconds = seconds;
                }
            
                @Override
                protected Money calculateCallFee(Call call) {
                    return amount.times(call.getDuration().getSeconds() / seconds.getSeconds());
                }
            }
            ```
            
        - ì‹¬ì•¼ í• ì¸ ìš”ê¸ˆì œ ( BasicRatePolicyì˜ ìì‹ í´ë˜ìŠ¤ )
            
            ```java
            public class NightlyDiscountPolicy extends BasicRatePolicy {
                private static final int LATE_NIGHT_HOUR = 22;
            
                private Money nightlyAmount;
                private Money regularAmount;
                private Duration seconds;
            
                public NightlyDiscountPolicy(Money nightlyAmount, Money regularAmount, Duration seconds) {
                    this.nightlyAmount = nightlyAmount;
                    this.regularAmount = regularAmount;
                    this.seconds = seconds;
                }
            
                @Override
                protected Money calculateCallFee(Call call) {
                    if (call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
                        return nightlyAmount.times(call.getDuration().getSeconds() / seconds.getSeconds());
                    }
            
                    return regularAmount.times(call.getDuration().getSeconds() / seconds.getSeconds());
                }
            }
            ```
            
    - ê¸°ë³¸ ì •ì±…ì„ ì´ìš©í•´ ìš”ê¸ˆì„ ê³„ì‚°í•  ìˆ˜ ìˆë„ë¡ Phoneì„ ìˆ˜ì •
        - RatePolicy í•©ì„±
            - ë‹¤ì–‘í•œ ìš”ê¸ˆ ì •ì±…ê³¼ í˜‘ë ¥í•´ì•¼í•˜ë¯€ë¡œ ì •ì±… íƒ€ì…ì´ RatePolicyì´ë‹¤.
            - ì»´íŒŒì¼ ì˜ì¡´ì„±ì„ êµ¬ì²´ì ì¸ ëŸ°íƒ€ì„ ì˜ì¡´ì„±ìœ¼ë¡œ ëŒ€ì²´í•˜ê¸° ìœ„í•´ ìƒì„±ìë¥¼ í†µí•´ RatePolicyì˜ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì˜ì¡´ì„±ì„ ì£¼ì…ë°›ëŠ”ë‹¤.
        
        ```java
        public class Phone {
        // Phone ë‚´ë¶€ì— RatePolicyì— ëŒ€í•œ ì°¸ì¡°ìê°€ í¬í•¨ë¼ ìˆë‹¤. 
        // ì´ê²ƒì´ ë°”ë¡œ í•©ì„±ì´ë‹¤.
        
        Phoneì€ ìƒì„±ìë¥¼ í†µí•´ RatePolicyì˜ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•œ ì˜ì¡´ì„±ì„ ì£¼ì…
            private RatePolicy ratePolicy;
            private List<Call> calls = new ArrayList<>();
        
            public Phone(RatePolicy ratePolicy) {
                this.ratePolicy = ratePolicy;
            }
        
            public List<Call> getCalls() {
                return Collections.unmodifiableList(calls);
            }
        
            public Money calculateFee() {
                return ratePolicy.calculateFee(this);
            }
        }
        ```
        
- ì˜ˆë¥¼ ë“¤ì–´, ì¼ë°˜ ìš•ê¸ˆ ê·œì¹™ì— ë”°ë¼ ê³„ì‚°í•˜ê¸° ìœ„í•´ì„œ Phoneê³¼ BasicRatePolicy ì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ RegularPolicyë¥¼
    
    ```java
    
    Phone phone = new Phone(new RegularPolicy(Money.wons(10), Duration.ofSeconds(10)));
    ```
    

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-11-13 á„‹á…©á„’á…® 5.47.55.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e2c6ccd4-4439-43db-96e9-e654aaf4aa71/b6bbb555-3e88-4f0a-8301-312d5308c83a/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-11-13_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_5.47.55.png)

### ë¶€ê°€ ì •ì±… ì‚¬ìš©í•˜ê¸°

- ì¸ìŠ¤í„´ìŠ¤ ê´€ê³„
    - ì¼ë°˜ ìš”ê¸ˆì œë¥¼ ì ìš©í•œ ê²½ìš°ì˜ ê´€ê³„
        - [Phone] â†’ (`calculateFee(phone)`) â†’ [RegularPolicy]
    - ì •ì±… ì¶”ê°€
        - Phoneì—ê²Œ ìš”ê¸ˆ ê³„ì‚° í›„ ë°˜í™˜ë˜ê¸° ì „ì— ì ìš©
        - [Phone] â†’ (`calculateFee(phone)`) â†’ **[TexablePolicy]** â†’ (`calculateFee(phone)`) â†’ [RegularPolicy]
- ë¶€ê°€ ì •ì±…ì„ êµ¬í˜„í•˜ê¸° ìœ„í•œ **2ê°€ì§€ ì œì•½**
    
    (1) ë¶€ê°€ ì •ì±…ì€ ê¸°ë³¸ ì •ì±…ì´ë‚˜ ë‹¤ë¥¸ ë¶€ê°€ ì •ì±…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 
    
     = ë¶€ê°€ ì •ì±…ì˜ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì–´ë–¤ ì¢…ë¥˜ì˜ ì •ì±…ê³¼ë„ í•©ì„±ë  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤) 
    
    (2) PhoneÂ ì…ì¥ì—ì„œëŠ” ìì‹ ì´ ì–´ë–¤ ì •ì±…(ê¸°ë³¸, ë¶€ê°€)ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ê³  ìˆëŠ”ì§€ë¥¼ ëª°ë¼ì•¼ í•œë‹¤. 
    
     = ê¸°ë³¸, ë¶€ê°€ ì •ì±…ì€ í˜‘ë ¥ ë‚´ì—ì„œ ë™ì¼ â€˜ì—­í• â€™ì„ ìˆ˜í–‰í•´ì•¼ í•œë‹¤. ì´ëŠ” ë¶€ê°€ì •ì±…ì´ ê¸°ë³¸ ì •ì±…ê³¼ ë™ì¼í•œÂ RatePolicyÂ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
    
    ì¦‰, ë¶€ê°€ì •ì±…ì€ RatePolicy ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼í•˜ë©°, ë‚´ë¶€ì— ë˜ ë‹¤ë¥¸ RatePolicy ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•©ì„±í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. 
    
- ë¶€ê°€ ì •ì±… - ì¶”ìƒ í´ë˜ìŠ¤
    - Phoneì˜ ì…ì¥ì—ì„œ ë¶€ê°€ ì •ì±…ì€ RatePolicyì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ë¯€ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬í˜„
    
    ```java
    public abstract class AdditionalPolicy implements RatePolicy {
       // ë‹¤ë¥¸ ìš”ê¸ˆ ì •ì±…ê³¼ ì¡°í•©ë  ìˆ˜ ìˆë„ë¡ RatePolicy íƒ€ì…ì˜ next ë¼ëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ë‚´ë¶€ì— í¬í•¨
        private RatePolicy next;
    
        public AdditionalPolicy(RatePolicy next) {
            this.next = next;
        }
    
        @Override
        public Money calculateFee(Phone phone) {
        // nextì—ê²Œ ë©”ì‹œì§€ë¥¼ ë³´ëƒ„ 
            Money fee = next.calculateFee(phone);
            return afterCalculated(fee);
        }
    
        protected abstract Money afterCalculated(Money fee);
    }
    ```
    
- ì„¸ê¸ˆ ì •ì±…
    
    ```java
    public class TaxablePolicy extends AdditionalPolicy {
        private double taxRatio;
    
        public TaxablePolicy(RatePolicy next, double taxRatio) {
            super(next);
            this.taxRatio = taxRatio;
        }
    
        @Override
        protected Money afterCalculated(Money fee) {
            return fee.plus(fee.times(taxRatio));
        }
    }
    ```
    
- ë¶€ê°€ ì •ì±…
    
    ```java
    public class RateDiscountablePolicy extends AdditionalPolicy {
        private Money discountAmount;
    
        public RateDiscountablePolicy(RatePolicy next, Money discountAmount) {
            super(next);
            this.discountAmount = discountAmount;
        }
    
        @Override
        protected Money afterCalculated(Money fee) {
            return fee.minus(discountAmount);
        }
    }
    ```
    

### ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±… í•©ì„±

- ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œ í›„ ì˜ì¡´ì„± ì£¼ì…ì„ í†µí•´ ë‹¤ë¥¸ ì •ì±…ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ì „ë‹¬í•˜ì
    
    ```java
    // ì¼ë°˜ ìš”ê¸ˆì œ + ì„¸ê¸ˆ ì •ì±…
    Phone phone = new Phone(new TaxablePolicy(0.05, new RegularPolicy(...)));
    
    // ì¼ë°˜ ìš”ê¸ˆì œ + ê¸°ë³¸ í• ì¸ ì •ì±… + ì„¸ê¸ˆ ì •ì±…
    Phone phone = new Phone(
                    new TaxablePolicy(0,05,
                            new RateDiscountablePolicy(Money.wons(1000),
                                    new RegularPolicy(...))));
    ```
    
- ìƒì† ë°©ì‹ë³´ë‹¤ ì¼ê´€ì„±ì´ ìˆë‹¤ëŠ” ì¥ì 

### ìƒˆë¡œìš´ ì •ì±… ì¶”ê°€í•˜ê¸°

- ìƒì†ì€ ìƒˆë¡œìš´ ì •ì±…ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•´ì•¼í–ˆì§€ë§Œ, í•©ì„±ì€ í•œ ê°œì˜ í´ë˜ìŠ¤ë§Œ ì¶”ê°€í•´ë„ ë˜ë„ë¡ í•œë‹¤.
    
    ![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-11-13 á„‹á…©á„’á…® 6.06.46.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e2c6ccd4-4439-43db-96e9-e654aaf4aa71/47048267-5e3f-44f2-a5ed-20023d68945b/%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA_2024-11-13_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE_6.06.46.png)
    

### ê°ì²´ í•©ì„±ì´ í´ë˜ìŠ¤ ìƒì†ë³´ë‹¤ ë” ì¢‹ì€ ë°©ë²•ì´ë‹¤.

- ìƒì†ì€ êµ¬í˜„ì„ ì¬ì‚¬ìš©í•˜ê³  í•©ì„±ì€ ê°ì²´ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•œë‹¤.
- ìƒì†ì—ëŠ” êµ¬í˜„ìƒì†ê³¼ ì¸í„°í˜ì´ìŠ¤ ìƒì†ì´ê³ 
    - ì—¬ê¸°ì„œ ë‹¨ì ì´ ìˆëŠ” ìƒì†ì€ â€œêµ¬í˜„ìƒì†â€ì´ë‹¤.

# (4) ë¯¹ìŠ¤ì¸

- ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²ƒì€ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ë©´ì„œë„ ë‚©ë“í•  ë§Œí•œ ê²°í•©ë„ë¥¼ ìœ ì§€í•˜ëŠ” ê²ƒì´ë‹¤.
    - êµ¬ì²´ì ì¸ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ë©´ì„œë„ ë‚®ì€ ê²°í•©ë„ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ë°©ë²•ì€ ì¬ì‚¬ìš©ì— ì í•©í•œ ì¶”ìƒí™”ë¥¼ ë„ì…
- ë¯¹ìŠ¤ì¸ì´ë€?
    - ìƒì†ê³¼ í•©ì„±ì˜ íŠ¹ì„±ì„ ëª¨ë‘ ë³´ìœ í•˜ê³  ìˆëŠ” ë…íŠ¹í•œ ì½”ë“œ ì¬ì‚¬ìš© ë°©ë²•
    - ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì½”ë“œ ì¼ë¶€ë¥¼ í´ë˜ìŠ¤ ì•ˆì— ì„ì–´ ë„£ì–´ ì¬ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ì„ ê°€ë¦¬í‚¨ë‹¤.
    - í•©ì„±ê³¼ ë‹¤ë¥¸ì 
        - í•©ì„±ì´ ì‹¤í–‰ ì‹œì ì— ê°ì²´ë¥¼ ì¡°í•©í•˜ëŠ” ì¬ì‚¬ìš© ë°©ë²•ì´ë¼ë©´, ë¯¹ìŠ¤ì¸ì€ ì»´íŒŒì¼ ì‹œì ì— í•„ìš”í•œ ì½”ë“œ ì¡°ê°ì„ ì¡°í•©í•˜ëŠ” ì¬ì‚¬ìš© ë°©ë²•
    - ìƒì†ê³¼ ë‹¤ë¥¸ì 
        - ìƒì†ì€ ìì‹ê³¼ ë¶€ëª¨ë¥¼ ê°™ì€ ë²”ì£¼ë¡œ ë„£ì–´ is-aê´€ê³„ë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ê²ƒ
        - í•˜ì§€ë§Œ ë¯¹ìŠ¤ì¸ì€ ì½”ë“œë¥¼ ë‹¤ë¥¸ ì½”ë“œ ì•ˆì— ì„ì–´ ë„£ê¸° ìœ„í•œ ë°©ë²•
    - í•©ì„±ì²˜ëŸ¼ ìœ ì—°í•˜ë©´ì„œë„ ìƒì†ì²˜ëŸ¼ ì‰½ê²Œ ì½”ë“œë¥¼ ì¬ì‚¬ìš© ê°€ëŠ¥
    

### ê¸°ë³¸ ì •ì±… êµ¬í˜„í•˜ê¸°

- ê¸°ë³¸ ì •ì±…ì— ë¶€ê°€ ì •ì±…ì„ ììœ ë¡­ê²Œ ì¡°í•©í•˜ê¸° ìœ„í•´
    - ê¸°ë³¸ì •ì±…ì„ êµ¬í˜„í•œ í›„ ë¶€ê°€ ì •ì±…ê³¼ ê´€ë ¨ëœ ì½”ë“œë¥¼ ê¸°ë³¸ ì •ì±…ì— ì–´ë–»ê²Œ ë¯¹ìŠ¤ì¸ í•  ìˆ˜ ìˆëŠ”ì§€ ê³ ë¯¼í•´ì•¼í•œë‹¤.
- ê¸°ë³¸ ì •ì±…ì„ í™•ì¥ê°€ëŠ¥í•˜ë„ë¡ Â `BasicRatePolicy`Â  ì¶”ìƒ í´ë˜ìŠ¤ë¡œ êµ¬í˜„í•œë‹¤.
    
    ```scala
    abstract class BasicRatePlicy {
    	def calculateFee(phone: Phone): Money =
    		phone.calls.map(calculateCallFee(_)).reduce(_+_)
    
    	protected def calculateCallFee(call: Call): Money;
    }
    ```
    
- í‘œì¤€ ìš”ê¸ˆì œë¥¼ êµ¬í˜„í•˜ëŠ” `RegularPolicy`Â ëŠ”Â `BasicRatePolicy`Â ë¥¼ ìƒì†ë°›ì•„Â `calculateCallFee`Â ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•œë‹¤.
    
    ```scala
    class RegularPolicy(val amount: Money, val seconds: Duration) extends BasicRatePlicy {
    
    	override protected def calculateCallFee(call: Call): Money =
    		amount * (call.duration.getSeconds / seconds.getSeconds)
    }
    ```
    
- ì‹¬ì•¼ í• ì¸ ìš”ê¸ˆì œë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ `NightlyDiscountPolicy`Â ì—­ì‹œ `BasicRatePolicy`Â ë¥¼ ìƒì†ë°›ì•„Â `calculateCallFee`Â ë¥¼ ì˜¤ë²„ë¼ì´ë”©í•œë‹¤.
    
    ```scala
    class NightlyDiscountPolicy(
        val nightlyAmount: Money,
        val regularAmount: Money,
        val seconds: Duration) extends BasicRatePolicy {
    
      override protected def calculateCallFee(call: Call): Money =
        if (call.from.getHour >= NightltDiscountPolicy.LateNightHour) {
          nightlyAmount * (call.duration.getSeconds / seconds.getSeconds)
        } else {
          regularAmount * (call.duration.getSeconds / seconds.getSeconds)
        }
    }
    
    object NightltDiscountPolicy {
      val LateNightHour: Integer = 22
    }
    ```
    

### íŠ¸ë ˆì´íŠ¸ë¡œ ë¶€ê°€ ì •ì±… êµ¬í˜„í•˜ê¸°

- ê¸°ë³¸ ì •ì±…ì„ êµ¬í˜„í•œ ìƒì† ê³„ì¸µ ì™„ì„±ì€ ê¸°ì¡´ ìë°” ì˜ˆì œì™€ ìœ ì‚¬í•˜ì§€ë§Œ ë¶€ê°€ ì •ì±… êµ¬í˜„ ë¶€ë¶„ì€ ë‹¤ë¥´ë‹¤.
- íŠ¸ë ˆì´íŠ¸ëŠ” ìŠ¤ì¹¼ë¼ì—ì„œ ê¸°ë³¸ í´ë˜ìŠ¤ì™€ ê²°í•©í•˜ì—¬ ì¶”ê°€ ê¸°ëŠ¥ì„ ì£¼ì…í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥
    - íŠ¸ë ˆì´íŠ¸ë¡œ êµ¬í˜„ëœ ê¸°ëŠ¥ë“¤ì„ ì„ì–´ ë„£ê²Œ ë  ëŒ€ìƒì€ ê¸°ë³¸ ì •ì±…ì— í•´ë‹¹í•˜ëŠ”Â `RegularPolicy`Â ,Â `NightlyDiscountPoilcy`Â ì´ë‹¤.
- ë¨¼ì € ë¶€ê°€ ì •ì±… ì¤‘ ì„¸ê¸ˆ ì •ì±…ì— í•´ë‹¹í•˜ëŠ”Â `TaxablePolicy`Â íŠ¸ë ˆì´íŠ¸ë¥¼ êµ¬í˜„í•´ë³´ì.
    
    ```scala
    trait TaxablePolicy extends BasicRatePolicy {
    
      val taxRate: Double
    
      override def calculateFee(phone: Phone): Money = {
        val fee = super.calculateFee(phone)
        return fee + fee * taxRate
      }
    }
    ```
    
    - ìœ„ ì½”ë“œì—ì„œ íŠ¸ë ˆì´íŠ¸ê°€Â `BasicRatePolicy`Â ë¥¼ í™•ì¥í•˜ëŠ” ê²ƒì€,Â ìƒì†ì˜ ê°œë…ì´ ì•„ë‹ˆë¼ `TaxablePolicy`Â ê°€Â `BasicRatePolicy`Â ë‚˜Â `BasicRatePolicy`Â ì˜ ìì†ì— í•´ë‹¹ë˜ëŠ” ê²½ìš°ì—ë§Œ ë¯¹ìŠ¤ì¸ë  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
    - ìœ ì˜í•  ì ì€Â `extends`Â ë¬¸ì€ ìƒì†ì˜ ê°œë…ì´ ì•„ë‹Œ ë‹¨ìˆœíˆÂ `TaxablePolicy`Â ê°€ ì‚¬ìš©ë  ë¬¸ë§¥ì„ ì œí•œí•  ë¿ì´ë¼ëŠ” ê²ƒ
        - ë”°ë¼ì„œÂ `RegularPolicy`Â ,Â `NightlyDiscountPolicy`Â ë” ë‚˜ì•„ê°€ ë¯¸ë˜ì— ì¶”ê°€ë Â `BaseRatePolicy`Â ì˜ ìì†ì—ê²Œë„ ë¯¹ìŠ¤ì¸ë  ìˆ˜ ìˆê³  ì´ì™¸ í´ë˜ìŠ¤ë‚˜ íŠ¸ë ˆì´íŠ¸ì—ëŠ” ë¯¹ìŠ¤ì¸ë  ìˆ˜ ì—†ë‹¤.
            - ë¯¹ìŠ¤ì¸ì€ ê´€ê³„ë¥¼ ê³ ì •í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì–´ë–¤ ì½”ë“œì— ë¯¹ìŠ¤ì¸ ë  ê²ƒì¸ì§€ë¥¼ ê²°ì •í•˜ì§€ ì•ŠìŒ
            - ìƒì†ì€ ì •ì ì´ì§€ë§Œ ë¯¹ìŠ¤ì¸ì€ ë™ì ì´ë¼ëŠ” ì°¨ì´ë¥¼ ë°œê²¬ ê°€ëŠ¥
                - TaxablePolicy íŠ¸ë ˆì´íŠ¸ëŠ” ë¯¹ìŠ¤ì¸í•˜ëŠ” ì‹œì ì— ê°€ì„œì•¼ ë¯¹ìŠ¤ì¸í•  ëŒ€ìƒì„ ê²°ì •í•  ìˆ˜ ìˆë‹¤.
    - ë¶€ê°€ ì •ì±…ì€ í•­ìƒ ê¸°ë³¸ ì •ì±… í›„ì— ì ìš©ë˜ê¸° ë•Œë¬¸ì— `super`Â í˜¸ì¶œë¡œ ì‹¤í–‰ë˜ëŠ”Â `BasicRatePolicy`ì˜ `calcualteFee`Â ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œ í›„ ìì‹ ì˜ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.
        - ê´€ê³„ë¥¼ ê³ ì •í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— superë¡œ ì°¸ì¡° ë˜ëŠ” ì½”ë“œ ì—­ì‹œ ê³ ì •ë˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŠ” ì‹¤ì œ íŠ¸ë ˆì´íŠ¸ê°€ ë¯¹ìŠ¤ì¸ ë˜ëŠ” ì‹œì ì— ê²°ì •ëœë‹¤.
            - ex) RegularPolicyì— ë¯¹ìŠ¤ì¸ë˜ë©´ ì´ í´ë˜ìŠ¤ì˜ calculateFee ë©”ì„œë“œê°€ í˜¸ì¶œë  ê²ƒì´ë‹¤.
            - ì¦‰, super ì°¸ì¡°ëŠ” ì‹¤í–‰ ì‹œì ì— ê²°ì •ëœë‹¤.
    - ë¯¹ìŠ¤ì¸ì€ í•©ì„±ê³¼ ìœ ì‚¬
        - í•©ì„±ì€ ë…ë¦½ì ìœ¼ë¡œ ì‘ì„±ëœ ê°ì²´ë“¤ì„ **ì‹¤í–‰ ì‹œì ì— ì¡°í•©**í•´ì„œ ë” í° ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ë‚´ëŠ” ë° ë¹„í•´ ë¯¹ìŠ¤ì¸ì€ ë…ë¦½ì ìœ¼ë¡œ ì‘ì„±ëœ ê°ì²´ë“¤ì„ **ì½”ë“œ ì‘ì„± ì‹œì **ì— ì¡°í•©í•´ì„œ ë” í° ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆë‹¤.

### ë¶€ê°€ ì •ì±… íŠ¸ë ˆì´íŠ¸ ë¯¹ìŠ¤ì¸í•˜ê¸°

- íŠ¸ë ˆì´íŠ¸ ì¡°í•©
    - ë¯¹ìŠ¤ì¸í•˜ë ¤ëŠ” ëŒ€ìƒ í´ë˜ìŠ¤ì˜ ë¶€ëª¨ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ” ê²½ìš° ë¶€ëª¨ í´ë˜ìŠ¤ëŠ” extendsë¥¼ ì´ìš©í•´ ìƒì†ë°›ê³ 
    - íŠ¸ë ˆì´íŠ¸ëŠ” withë¥¼ ì´ìš©í•´ ë¯¹ìŠ¤ì¸
- ë‹¤ìŒ ë¶€ê°€ ì •ì±…ì„Â `RateDiscountablePolicy`Â íŠ¸ë ˆì´íŠ¸ë¡œ êµ¬í˜„í•˜ì.
    
    ```scala
    trait RateDiscountablePolicy extends BasicRatePolicy {
      val discountAmount: Money
    
      override def calculateFee(phone: Phone): Money = {
        val fee = super.calculateFee(phone)
        fee - discountAmount
      }
    }
    ```
    

- í‘œì¤€ ìš”ê¸ˆì œì— ì„¸ê¸ˆ ì •ì±…ì„ ì¡°í•©í•´ë³´ì.
    - ë¯¹ìŠ¤ì¸í•  íŠ¸ë ˆì´íŠ¸ = TaxablePolicy â†’ ìƒì†
    - ì¡°í•©ë  í´ë˜ìŠ¤ = RegularPolicy â†’ íŠ¸ë ˆì´íŠ¸
        - â‡’ ë¯¹ìŠ¤ì¸í•œ ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
    
    ```scala
    class TaxableRegularPolicy(amount: Money, seconds: Duration, val taxRate: Double)
      extends RegularPolicy(amount, seconds)  // ë¶€ëª¨ í´ë˜ìŠ¤ ìƒì†
      with TaxablePolicy                     // íŠ¸ë ˆì´íŠ¸ ë¯¹ìŠ¤ì¸
    ```
    
    - `RegularPolicy`ì™€ `TaxablePolicy`ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ `TaxableRegularPolicy`ì—ì„œ ì‚¬ìš©
    - ìŠ¤ì¹¼ë¼ëŠ” íŠ¹ì • í´ë˜ìŠ¤ì— ë¯¹ìŠ¤ì¸í•œ í´ë˜ìŠ¤ì™€ íŠ¸ë ˆì´íŠ¸ë¥¼Â *ì„ í˜•í™”(linearization)*í•´ì„œ ì–´ë–¤ ë©”ì„œë“œë¥¼  í˜¸ì¶œí• ì§€ ê²°ì •í•œë‹¤.
        - ë¯¹ìŠ¤ì¸í•œ íŠ¸ë ˆì´íŠ¸ë‚˜ ìƒì†í•œ í´ë˜ìŠ¤ê°€ ë§ì•„ì§ˆìˆ˜ë¡ **ì–´ë–¤ ìˆœì„œë¡œ ë©”ì„œë“œê°€ í˜¸ì¶œë ì§€**ë¥¼ ì •í•˜ëŠ” ê²ƒì´ ì¤‘ìš” â†’ ì„ í˜•í™” í•„ìš”
        - í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ í´ë˜ìŠ¤ ìì‹ , ì¡°ìƒ í´ë˜ìŠ¤, íŠ¸ë ˆì´íŠ¸ë¥¼ ì¼ë ¬ë¡œ ë‚˜ì—´í•˜ì—¬ ìˆœì„œë¥¼ ì •í•˜ê³  ì‹¤í–‰ ì¤‘ì¸ ë©”ì„œë“œ ë‚´ë¶€ì—ì„œÂ `super`Â í˜¸ì¶œì„ í•˜ë©´ ë‹¤ìŒ ë‹¨ê³„ì— ìœ„ì¹˜í•œ í´ë˜ìŠ¤ë‚˜ íŠ¸ë ˆì´íŠ¸ì˜ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤.
    - **ì„ í˜•í™” ê·œì¹™**
        1. ì„ í˜•í™”ë¥¼ í•  ë•Œ í•­ìƒ ë§¨ ì•ì—ëŠ” êµ¬í˜„í•œ í´ë˜ìŠ¤ ìê¸° ìì‹ ì´ ìœ„ì¹˜í•œë‹¤. 
        2. **ì˜¤ë¥¸ìª½ë¶€í„° ì™¼ìª½ ìˆœì„œ**ë¡œ `with`ë¡œ ì„ ì–¸ëœ íŠ¸ë ˆì´íŠ¸ê°€ ê·¸ ë‹¤ìŒ ìˆœì„œì— ìœ„ì¹˜í•©ë‹ˆë‹¤.
        3. **ì™¼ìª½ìœ¼ë¡œ ì´ë™**í•˜ë©° ë‚˜ì—´ëœ íŠ¸ë ˆì´íŠ¸ë‚˜ ìƒì†ëœ í´ë˜ìŠ¤ê°€ ìˆœì°¨ì ìœ¼ë¡œ ìœ„ì¹˜í•˜ê²Œ ë©ë‹ˆë‹¤.
        - ì˜ˆì‹œì—ì„œ `TaxableRegularPolicy`ê°€ `RegularPolicy`ë¥¼ ìƒì†ë°›ê³  `TaxablePolicy`ë¥¼ ë¯¹ìŠ¤ì¸í–ˆë‹¤ë©´, í˜¸ì¶œ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:
            - `TaxableRegularPolicy -> TaxablePolicy -> RegularPolicy`
            
            ì´ ìˆœì„œëŒ€ë¡œ `super` í˜¸ì¶œì´ ì‹¤í–‰ë©ë‹ˆë‹¤.
            
        - ì¤‘ìš”í•œ ê²ƒì€ ë¯¹ìŠ¤ì¸ë˜ê¸° ì „ê¹Œì§€ëŠ” ìƒì† ê³„ì¸µ ì•ˆì—ì„œÂ `TaxablePolicy`Â íŠ¸ë ˆì´íŠ¸ì˜ ìœ„ì¹˜ê°€ ê²°ì •ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤.
        - ì´ ìœ„ì¹˜ëŠ” ì–´ë–¤ í´ë˜ìŠ¤ë¥¼ ë¯¹ìŠ¤ì¸í• ì§€ì— ë”°ë¼ ë™ì ìœ¼ë¡œ ë³€í•œë‹¤.
- ì‹¬ì•¼ í• ì¸ ìš”ê¸ˆì œ í´ë˜ìŠ¤ì— RateDiscountablePolicy íŠ¸ë ˆì´íŠ¸ë¥¼ ë¯¹ìŠ¤ì¸
    
    ìœ„ì™€ ê°™ì´ ì„ í˜•í™”ë¥¼ ì´ìš©í•œ êµ¬ì¡°ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ì„  ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.
    
    ```scala
    class RateDiscountableAndTaxableRegularPolicy(
        amount: Money,
        seconds: Duration,
        val discountAmount: Money,
        val taxRate: Double)
      extends RegularPolicy(amount, seconds)
      with TaxablePolicy
      with RateDiscountablePolicy
    ```
    
    - í‘œì¤€ ìš”ê¸ˆì œì— ë¹„ìœ¨ í• ì¸ ì •ì±…ì„ ì ìš©í•œ í›„ ì„¸ê¸ˆ ì •ì±…ì„ ì ìš©í•˜ê³  ì‹¶ë‹¤ë©´ íŠ¸ë ˆì´íŠ¸ ìˆœì„œë§Œ ë°”ê¾¸ë©´ ëœë‹¤.
        
        ```scala
        class TaxableAndRateDiscountableRegularPolicy(
            amount: Money,
            seconds: Duration,
            val discountAmount: Money,
            val taxRate: Double)
          extends RegularPolicy(amount, seconds)
          with RateDiscountablePolicy
          with TaxablePolicy
        ```
        
    - ì–´ë–¤ ì‚¬ëŒë“¤ì€ ë¯¹ìŠ¤ì¸ì„ ì‚¬ìš©í•˜ë”ë¼ë„ í´ë˜ìŠ¤ í­ë°œ ë¬¸ì œëŠ” ì—¬ì „íˆ ë‚¨ì•„ìˆëŠ” ê²ƒì´ ì•„ë‹ˆëƒê³  ë°˜ë¬¸í•  ìˆ˜ ìˆë‹¤.
        - ì‚¬ì‹¤ ê·¸ ë¬¸ì œì˜ ë‹¨ì ì€ í´ë˜ìŠ¤ê°€ ëŠ˜ì–´ë‚˜ëŠ” ê²ƒì´ ì•„ë‹Œ, í´ë˜ìŠ¤ ì¦ê°€ì— ì¤‘ë³µ ì½”ë“œê°€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ë™ë°˜ëœë‹¤ëŠ” ê²ƒì´ë‹¤. ë¯¹ìŠ¤ì¸ì€ ì´ëŸ° ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.
    - í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šê³  ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì‹œ íŠ¸ë ˆì´íŠ¸ë¥¼ ë¯¹ìŠ¤ì¸í•  ìˆ˜ë„ ìˆë‹¤.
        
        ```scala
        new RegularPlicy(Money(100), Duration.ofSeconds(10))
        	with RateDiscountablePolicy
        	with TaxablePolicy {
        	val discountAmount = Money(100)
        	val taxRate = 0.02
        }
        ```
        
        ì´ ë°©ë²•ì€ RateDiscountablePolicyì™€ TaxablePolicyë¥¼ RegularPolicyì— ë¯¹ìŠ¤í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ ì˜¤ì§ í•œ êµ°ë°ì—ì„œë§Œ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 
        
        í•˜ì§€ë§Œ ì—¬ëŸ¬ êµ°ë°ì—ì„œ ë™ì¼í•œ íŠ¸ë ˆì´íŠ¸ë¥¼ ë¯¹ìŠ¤ì¸í•´ì„œ ì‚¬ìš©í•´ì•¼í•œë‹¤ë©´ ëª…ì‹œì ìœ¼ë¡œ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 
        

### ìŒ“ì„ ìˆ˜ ìˆëŠ” ë³€ê²½

- ë¯¹ìŠ¤ì¸ì€ ìƒì† ê³„ì¸µ ì•ˆì—ì„œ í™•ì¥í•œ í´ë˜ìŠ¤ë³´ë‹¤ ë” í•˜ìœ„ì— ìœ„ì¹˜í•˜ê²Œ ëœë‹¤.
    - ë‹¤ì‹œ ë§í•´ ë¯¹ìŠ¤ì¸ì€ ëŒ€ìƒ í´ë˜ìŠ¤ì˜ ìì‹ í´ë˜ìŠ¤ì²˜ëŸ¼ ì‚¬ìš©ë  ìš©ë„ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ë‹¤.
    - ë”°ë¼ì„œ ë¯¹ìŠ¤ì¸ì„Â *ì¶”ìƒ ì„œë¸Œí´ë˜ìŠ¤*ë¼ê³  ë¶€ë¥´ê¸°ë„ í•œë‹¤.
- ë¯¹ìŠ¤ì¸ì„ ì‚¬ìš©í•˜ë©´ íŠ¹ì •í•œ í´ë˜ìŠ¤ì— ëŒ€í•œ ë³€ê²½ ë˜ëŠ” í™•ì¥ì„ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„í•œ í›„ í•„ìš”í•œ ì‹œì ì— ì°¨ë¡€ëŒ€ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤. â†’ â€œìŒ“ì„ ìˆ˜ ìˆëŠ” ë³€ê²½â€
    - ì˜ˆì‹œ
        
        ê¸°ë³¸ ìš”ê¸ˆì œ í´ë˜ìŠ¤ì— ì„¸ê¸ˆê³¼ í• ì¸ ê¸°ëŠ¥ì„ "ìŒ“ì•„ì˜¬ë¦´" ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        
        ```java
        class TaxableAndDiscountedPolicy(
        amount: Money, seconds: Duration, val taxRate: Double, val discountAmount: Money)
        extends RegularPolicy(amount, seconds) // ê¸°ë³¸ ìš”ê¸ˆì œ
        with RateDiscountablePolicy           // ë¹„ìœ¨ í• ì¸ ì •ì±… ì¶”ê°€
        with TaxablePolicy                    // ì„¸ê¸ˆ ì •ì±… ì¶”ê°€
        ```
        
        ì´ë ‡ê²Œ í•˜ë©´ TaxableAndDiscountedPolicy í´ë˜ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤:
        
        TaxableAndDiscountedPolicy -> RateDiscountablePolicy -> TaxablePolicy -> RegularPolicy
        
        ì¦‰, í• ì¸ì´ ë¨¼ì € ì ìš©ë˜ê³ , ê·¸ ìœ„ì— ì„¸ê¸ˆì´ ì¶”ê°€ë©ë‹ˆë‹¤.
        
    - superê°€ íŠ¸ë ˆì´íŠ¸ë¥¼ í´ë˜ìŠ¤ êµ¬í˜„ì— ë¯¹ìŠ¤ì¸í•  ë•Œë§ˆë‹¤ ìƒˆë¡œ ì •í•´ì§€ë¯€ë¡œ ë³€ê²½ ìœ„ì— ë³€ê²½ì„ ìŒ“ì•„ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.
        - super í‚¤ì›Œë“œëŠ” í´ë˜ìŠ¤ ê³„ì¸µ êµ¬ì¡°ì—ì„œ ìœ„ìª½ ë°©í–¥ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.
        - Scalaì—ì„œëŠ” ë¯¹ìŠ¤ì¸ëœ íŠ¸ë ˆì´íŠ¸ì—ì„œ superë¥¼ í˜¸ì¶œí•  ë•Œ ë¯¹ìŠ¤ì¸ëœ ìˆœì„œì— ë”°ë¼ í˜¸ì¶œë  ë©”ì„œë“œê°€ ë‹¬ë¼ì§‘ë‹ˆë‹¤.
        - ì´ë¥¼ í†µí•´ ê°ê°ì˜ íŠ¸ë ˆì´íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ìˆ˜ì •ëœ ë™ì‘ì„ ì •ì˜í•  ìˆ˜ ìˆìœ¼ë©°, íŠ¸ë ˆì´íŠ¸ë¥¼ ë¯¹ìŠ¤ì¸í•  ë•Œë§ˆë‹¤ superê°€ ë™ì ìœ¼ë¡œ ì¬ì •ì˜ë˜ì–´ ìƒˆë¡œìš´ ë³€ê²½ ì‚¬í•­ì´ ë°˜ì˜ë©ë‹ˆë‹¤.
        - ì¦‰, íŠ¸ë ˆì´íŠ¸ì˜ calculateFee ë©”ì„œë“œì—ì„œ super.calculateFeeë¥¼ í˜¸ì¶œí•˜ë©´, í˜„ì¬ ì ìš©ëœ íŠ¸ë ˆì´íŠ¸ ìœ„ì— ìœ„ì¹˜í•œ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤.
        - ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ë³€ê²½ì„ í•˜ë‚˜ì”© ìŒ“ì•„ì˜¬ë¦¬ë©´ì„œ(super í˜¸ì¶œì„ í†µí•´) ì¡°í•©ëœ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
